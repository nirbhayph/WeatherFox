(this.webpackJsonphowistheweather=this.webpackJsonphowistheweather||[]).push([[0],{254:function(e,t,a){e.exports=a(477)},259:function(e,t,a){},260:function(e,t,a){},275:function(e,t,a){},456:function(e,t,a){},477:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),i=a.n(l),o=(a(259),a(13)),c=a(14),s=a(15),u=a(1),m=a(12),h=a(16),p=(a(260),a(261),a(485)),f=a(480),d=a(486),y=a(484),E=a(2),b=a(229),g=a(72),v=a.n(g),O=a(209);if(null===localStorage.getItem("citiesData")){var w=[];fetch("city-data/city_filtered_list.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){for(var t=0;t<e.length;t++)w.push({value:e[t].id,label:e[t].name+" in "+e[t].country});localStorage.setItem("citiesData",JSON.stringify(w))}))}var j=function(){var e=Object(O.a)(v.a.mark((function e(t,a){var n,r,l,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("citiesData")),t?(l=t.toLowerCase(),r=n.filter((function(e){return e.label.toLowerCase().includes(l)}))):r=n,i=r.length>a.length+10,o=r.slice(a.length,a.length+10),e.abrupt("return",{options:o,hasMore:i});case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x,D={control:function(e,t){return C({},e,{borderColor:(t.isFocused,"#343940"),boxShadow:(t.isFocused,null),"&:hover":{borderColor:(t.isFocused,"#343940")}})}},T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={value:[],getWeatherForSelected:e.getWeatherForSelected},a.reflectChange=a.reflectChange.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"reflectChange",value:function(e){this.setState({value:e}),this.state.getWeatherForSelected(e)}},{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("label",{style:{marginTop:20}}," ","Select a city"," ",r.a.createElement("small",null,r.a.createElement("i",null,r.a.createElement("b",null," (Choose from cities in France, United States or Russia)")))),r.a.createElement(b.a,{value:this.state.value,loadOptions:j,closeMenuOnSelect:!0,onChange:this.reflectChange,styles:D,theme:function(e){return C({},e,{colors:C({},e.colors,{primary25:"#413EA0",primary:"#413EA0",neutral0:"#222",primary50:"#222",neutral80:"white",neutral90:"white",neutral70:"white"})})}}))}}]),t}(r.a.Component),k=a(489),M=a(481),P=a(482),N=a(81),A=a.n(N),F=(a(84),a(210)),L=a.n(F),Z=a(211),z=a.n(Z),Y=(a(275),function(e){var t=e.timeSlot-1,a=e.weatherData.filter((function(e,a){return a===t?(t+=8,e):null})),n=r.a.createRef();return r.a.createElement("div",null,r.a.createElement(L.a,{autoplay:!0,autoplay_speed:9e3,alignment:"horizontal",spread:"wide",style:{position:"relative",zIndex:"-1"},ref:n},a.map((function(t,a){return r.a.createElement(k.a,{text:"white",style:{width:"18rem",backgroundColor:"#222"},key:a},r.a.createElement("h2",{style:{textAlign:"center",padding:"20px"}},r.a.createElement(z.a,{name:"owm",iconId:t.weather[0].id+""}),"\xa0"," ",t.weather[0].description.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")),r.a.createElement(k.a.Header,{style:{backgroundColor:"#413EA0"}},r.a.createElement("i",{className:"wi wi-thermometer"})," \xa0 \xa0"," ",t.main.temp_min," \xb0F to ",t.main.temp_max," \xb0F"),r.a.createElement(k.a.Body,null,r.a.createElement(k.a.Text,null,r.a.createElement("small",null,r.a.createElement(A.a,{format:"DD MMM, YY @ h:mm A",tz:e.timeZone},t.dt_txt+" GMT"),"\xa0 (",e.cityName,")")),r.a.createElement(k.a.Text,null,r.a.createElement("small",null,r.a.createElement(A.a,{format:"DD MMM, YY @ h:mm A"},t.dt_txt),"\xa0 (UTC time)")),r.a.createElement("div",null,r.a.createElement("hr",null)),r.a.createElement(k.a.Text,null,r.a.createElement("i",{className:"wi wi-barometer"}),r.a.createElement("i",null," \xa0 \xa0Pressure")," \u2192 ",t.main.pressure," hPa"),r.a.createElement(k.a.Text,null,r.a.createElement("i",{className:"wi wi-humidity"}),r.a.createElement("i",null,"\xa0 \xa0 Humidity")," \u2192 ",t.main.humidity,"%"),r.a.createElement("div",null,r.a.createElement("hr",null)),r.a.createElement(k.a.Text,null,r.a.createElement("i",{className:"wi wi-windy"}),r.a.createElement("i",null," \xa0 \xa0 Wind Speed")," \u2192 ",t.wind.speed," mph"),r.a.createElement(k.a.Text,null,r.a.createElement("i",{className:"wi wi-cloud-up"}),r.a.createElement("i",null," \xa0 \xa0 Cloudiness")," \u2192 ",t.clouds.all,"%")))}))),r.a.createElement(f.a,{style:{marginTop:"150px",marginLeft:"40px"}},r.a.createElement(M.a,{"aria-label":"group"},r.a.createElement(P.a,{className:"controlButtons",onClick:function(e){return n.current.prev()}},"Previous"),r.a.createElement(P.a,{className:"controlButtons",onClick:function(e){return n.current.next()}},"Next"))))}),_=a(38),I=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.payload;return r.a.createElement("g",{transform:"translate(".concat(t,",").concat(a,")")},r.a.createElement("text",{x:-30,y:0,dy:16,textAnchor:"end",fill:"#666"},0===n.value?"":n.value))}}]),t}(n.PureComponent),W=a(84),G=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"renderColorfulLegendText",value:function(e,t){var a=t.color;return r.a.createElement("span",{style:{color:a}},e)}},{key:"requiredData",value:function(){var e=this.props.timeSlot-1,t=this.props.timeZone,a=this.props.weatherData.filter((function(t,a){return a===e?(e+=8,t):null}));return a.map((function(e,a){var n={};return n.Date=W(e.dt_txt+" GMT").tz(t).format("DD MMM, YY"),n.Temperature=e.main.temp,n.Humidity=e.main.humidity,n.Cloudiness=e.clouds.all,x=e.dt_txt,n}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%",height:300}},r.a.createElement(_.f,null,r.a.createElement(_.c,{width:600,height:400,data:this.requiredData(),margin:{top:20,right:20,bottom:20,left:20}},r.a.createElement(_.b,{stroke:"#d3d3d3"}),r.a.createElement(_.i,{dataKey:"Date"}),r.a.createElement(_.j,{tick:r.a.createElement(I,null)}),r.a.createElement(_.h,null),r.a.createElement(_.d,{formatter:this.renderColorfulLegendText}),r.a.createElement(_.a,{dataKey:"Temperature",barSize:30,fill:"#413ea0"}),r.a.createElement(_.e,{type:"monotone",dataKey:"Humidity",stroke:"#ff7300"}),r.a.createElement(_.g,{dataKey:"Cloudiness",fill:"red"}))),r.a.createElement("h4",{style:{textAlign:"center"}},"@",r.a.createElement(A.a,{format:"h:mm A",tz:this.props.timeZone},x+" GMT")," ","Local Time"))}}]),t}(n.PureComponent),H=a(107);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B,J=a(84),R={control:function(e,t){return U({},e,{borderColor:(t.isFocused,"#343940"),boxShadow:(t.isFocused,null),"&:hover":{borderColor:(t.isFocused,"#343940")}})}},V="Loading ...",q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={timeSlot:e.defaultTimeSlot,reflectTimeSlotChange:e.reflectTimeSlotChange},a.reflectChange=a.reflectChange.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"reflectChange",value:function(e){this.setState({timeSlot:e}),this.state.reflectTimeSlotChange(e)}},{key:"getOptions",value:function(){var e=this.props.timeZone;return this.props.weatherData.filter((function(e,t){return t<8?e:null})).map((function(t,a){var n={};return n.value=a+1,n.label="Every "+J(t.dt_txt+" GMT").tz(e).format("h:mm A")+" starting "+J(t.dt_txt+" GMT").tz(e).format("MMM DD, YYYY")+" Local Time",0===a&&(V=n.label),n}))}},{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("label",{style:{marginTop:20}}," ","Select a time slot"," ",r.a.createElement("small",null,r.a.createElement("i",null,r.a.createElement("b",null," (Choose from any of the eight 3 hr time periods)")))),r.a.createElement(H.a,{styles:R,style:{zIndex:9999},options:this.getOptions(),placeholder:V,onChange:this.reflectChange,closeMenuOnSelect:!0,theme:function(e){return U({},e,{colors:U({},e.colors,{primary25:"#413EA0",primary:"#413EA0",neutral0:"#222",primary50:"#222",neutral80:"white",neutral90:"white",neutral70:"white"})})}}))}}]),t}(r.a.Component),Q=a(490),X=a(491),$=a(483),ee=a(492),te=(a(456),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=[this.props.lat,this.props.lng];return r.a.createElement(Q.a,{center:e,zoom:this.props.zoom},r.a.createElement(X.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement($.a,{position:e},r.a.createElement(ee.a,null,this.props.popupMessage)))}}]),t}(r.a.Component)),ae=function(e){return r.a.createElement("div",null,r.a.createElement("h2",{style:{marginTop:"25px",textAlign:"center"}},e.title," ",r.a.createElement(y.a,{style:{backgroundColor:"#413EA0"}}," ",e.badgeTitle)))},ne=a(487),re=a(488),le=a(75),ie=function(e){return r.a.createElement(ne.a,{fixed:"bottom",collapseOnSelect:!0,expand:"lg",style:{backgroundColor:"#413EA0"},variant:"dark"},r.a.createElement(ne.a.Brand,{href:"https://openweathermap.org/"},"@OWM Powered"),r.a.createElement(ne.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(ne.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(re.a,{className:"mr-auto"},r.a.createElement(re.a.Link,{href:"https://nirbhay.me"},r.a.createElement("b",null,"Made with ",r.a.createElement(le.c,null)," in Rochester, NY"))),r.a.createElement(re.a,null,r.a.createElement(re.a.Link,{href:"https://github.com/nirbhayph/weatherfox"},r.a.createElement(le.b,null)," View Project on GitHub"),r.a.createElement(re.a.Link,{href:"https://linkedin.com/in/nirbhaypherwani"},r.a.createElement(le.d,null)),r.a.createElement(re.a.Link,{eventKey:2,href:"https://nirbhay.me"},r.a.createElement(le.a,null)),r.a.createElement(re.a.Link,{eventKey:3,href:"https://github.com/nirbhayph"},r.a.createElement(le.b,null)))))},oe=a(143),ce=a.n(oe),se=a(51),ue=a.n(se),me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={weatherData:[],cityName:"",timeZone:"ETC/UTC",timeSlot:1,showData:!1,lat:"",lng:"",errorDisplay:!1},B=Object(u.a)(a),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"setLocalTimeZone",value:function(e,t){ce.a.get("https://api.timezonedb.com/v2.1/get-time-zone?key=HIIZEJW9VZSN&format=json&by=position&lat="+e+"&lng="+t).then((function(e){console.log(e);var t,a=e.data.gmtOffset;t=a<0?"Etc/GMT+"+ue.a.utc(ue.a.unix(Math.abs(a))).format("H"):"Etc/GMT-"+ue.a.utc(ue.a.unix(a)).format("H"),B.setState({timeZone:t})}),(function(e){B.setState({errorDisplay:!0})}))}},{key:"getWeatherForSelected",value:function(e){console.log(e),ce.a.get("https://api.openweathermap.org/data/2.5/forecast?appid=8d857ff354f64e3ac0b841e26812533c&units=imperial&id="+e.value).then((function(e){B.setState({weatherData:e.data.list,cityName:e.data.city.name,showData:!0,lat:e.data.city.coord.lat,lng:e.data.city.coord.lon}),B.setLocalTimeZone(e.data.city.coord.lat,e.data.city.coord.lon)}),(function(e){B.setState({errorDisplay:!0})}))}},{key:"reflectTimeSlotChange",value:function(e){B.setState({timeSlot:e.value})}}]),Object(m.a)(t,[{key:"componentDidUpdate",value:function(){this.footer.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(ae,{title:"Weather",badgeTitle:"Fox"}),r.a.createElement("br",null),r.a.createElement(T,{getWeatherForSelected:this.getWeatherForSelected}),this.state.showData?r.a.createElement(q,{defaultTimeSlot:this.state.timeSlot,reflectTimeSlotChange:this.reflectTimeSlotChange,weatherData:this.state.weatherData,timeZone:this.state.timeZone,timeSlot:this.state.timeSlot}):null,r.a.createElement(f.a,null,r.a.createElement(d.a,{sm:6},r.a.createElement(f.a,{style:{position:"relative",marginTop:"200px"}},this.state.showData?r.a.createElement(Y,{timeSlot:this.state.timeSlot,weatherData:this.state.weatherData,cityName:this.state.cityName,timeZone:this.state.timeZone}):null)),r.a.createElement(d.a,{sm:6},r.a.createElement(f.a,{style:{position:"relative",marginTop:"60px"}},this.state.showData?r.a.createElement(G,{timeSlot:this.state.timeSlot,timeZone:this.state.timeZone,weatherData:this.state.weatherData}):null),r.a.createElement(f.a,null,this.state.showData?r.a.createElement(te,{lat:this.state.lat,lng:this.state.lng,popupMessage:this.state.cityName,zoom:13}):null))),this.state.errorDisplay?r.a.createElement("div",null,r.a.createElement("h3",{style:{textAlign:"center"}},r.a.createElement(y.a,{variant:"warning",style:{padding:"20px"}}," ","Unable to fetch data. Please try again later!"," "))):null,r.a.createElement("div",{ref:function(t){return e.footer=t},style:{position:"relative",marginTop:"100px"}}),r.a.createElement(ie,null)))}}]),t}(r.a.Component);i.a.render(r.a.createElement(me,null),document.getElementById("root"))}},[[254,1,2]]]);
//# sourceMappingURL=main.73330037.chunk.js.map