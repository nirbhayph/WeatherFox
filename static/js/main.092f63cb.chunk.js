(this.webpackJsonphowistheweather=this.webpackJsonphowistheweather||[]).push([[0],{256:function(e,t,a){e.exports=a(479)},261:function(e,t,a){},262:function(e,t,a){},277:function(e,t,a){},458:function(e,t,a){},479:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),i=a.n(l),o=(a(261),a(32)),c=a(35),s=a(33),m=a(53),u=a(31),h=a(36),p=(a(262),a(263),a(487)),d=a(482),f=a(488),E=a(486),y=a(45),g=a(231),b=a(84),v=a.n(b);if(null===localStorage.getItem("citiesData")){var w=[];fetch("city-data/city_filtered_list.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){for(var t=0;t<e.length;t++)w.push({value:e[t].id,label:e[t].name+" in "+e[t].country});localStorage.setItem("citiesData",JSON.stringify(w))}))}var O,S,j=function(e,t){var a,n,r,l,i;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a=JSON.parse(localStorage.getItem("citiesData")),e?(r=e.toLowerCase(),n=a.filter((function(e){return e.label.toLowerCase().includes(r)}))):n=a,l=n.length>t.length+10,i=n.slice(t.length,t.length+10),o.abrupt("return",{options:i,hasMore:l});case 5:case"end":return o.stop()}}))},x={control:function(e,t){return Object(y.a)({},e,{borderColor:(t.isFocused,"#343940"),boxShadow:(t.isFocused,null),"&:hover":{borderColor:(t.isFocused,"#343940")}})},menu:function(e){return Object(y.a)({},e,{zIndex:9999})}},C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={value:[],getWeatherForSelected:e.getWeatherForSelected},a.reflectChange=a.reflectChange.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"reflectChange",value:function(e){this.setState({value:e}),this.state.getWeatherForSelected(e)}},{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("label",{style:{marginTop:20}}," ","Select a city"," ",r.a.createElement("small",null,r.a.createElement("i",null,r.a.createElement("b",null," (Choose from cities in France, United States or Russia)")))),r.a.createElement(g.a,{value:this.state.value,loadOptions:j,closeMenuOnSelect:!0,onChange:this.reflectChange,styles:x,theme:function(e){return Object(y.a)({},e,{colors:Object(y.a)({},e.colors,{primary25:"#413EA0",primary:"#413EA0",neutral0:"#222",primary50:"#222",neutral80:"white",neutral90:"white",neutral70:"white"})})}}))}}]),t}(r.a.Component),T=a(491),D=a(483),k=a(484),M=a(85),N=a.n(M),A=(a(88),a(212)),z=a.n(A),F=a(213),L=a.n(F),Z=(a(277),function(e){var t=e.timeSlot-1,a=e.weatherData.filter((function(e,a){return a===t?(t+=8,e):null})),n=r.a.createRef();return r.a.createElement("div",null,r.a.createElement(z.a,{autoplay:!0,autoplay_speed:9e3,alignment:"horizontal",spread:"wide",style:{position:"relative"},ref:n},a.map((function(t,a){return r.a.createElement(T.a,{text:"white",style:{width:"18rem",backgroundColor:"#222"},key:a},r.a.createElement("h2",{style:{textAlign:"center",padding:"20px"}},r.a.createElement(L.a,{name:"owm",iconId:t.weather[0].id+""}),"\xa0"," ",t.weather[0].description.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")),r.a.createElement(T.a.Header,{style:{backgroundColor:"#413EA0"}},r.a.createElement("i",{className:"wi wi-thermometer"})," \xa0 \xa0"," ",t.main.temp_min," \xb0F to ",t.main.temp_max," \xb0F"),r.a.createElement(T.a.Body,null,r.a.createElement(T.a.Text,null,r.a.createElement("small",null,r.a.createElement(N.a,{format:"DD MMM, YY @ h:mm A",tz:e.timeZone},t.dt_txt+" GMT"),"\xa0 (",e.cityName,")")),r.a.createElement(T.a.Text,null,r.a.createElement("small",null,r.a.createElement(N.a,{format:"DD MMM, YY @ h:mm A"},t.dt_txt),"\xa0 (UTC time)")),r.a.createElement("div",null,r.a.createElement("hr",null)),r.a.createElement(T.a.Text,null,r.a.createElement("i",{className:"wi wi-barometer"}),r.a.createElement("i",null," \xa0 \xa0Pressure")," \u2192 ",t.main.pressure," hPa"),r.a.createElement(T.a.Text,null,r.a.createElement("i",{className:"wi wi-humidity"}),r.a.createElement("i",null,"\xa0 \xa0 Humidity")," \u2192 ",t.main.humidity,"%"),r.a.createElement("div",null,r.a.createElement("hr",null)),r.a.createElement(T.a.Text,null,r.a.createElement("i",{className:"wi wi-windy"}),r.a.createElement("i",null," \xa0 \xa0 Wind Speed")," \u2192 ",t.wind.speed," mph"),r.a.createElement(T.a.Text,null,r.a.createElement("i",{className:"wi wi-cloud-up"}),r.a.createElement("i",null," \xa0 \xa0 Cloudiness")," \u2192 ",t.clouds.all,"%")))}))),r.a.createElement(d.a,{style:{marginTop:"150px",marginLeft:"40px"}},r.a.createElement(D.a,{"aria-label":"group"},r.a.createElement(k.a,{className:"controlButtons",onClick:function(e){return n.current.prev()}},"Previous"),r.a.createElement(k.a,{className:"controlButtons",onClick:function(e){return n.current.next()}},"Next"))))}),I=a(40),Y=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.payload;return r.a.createElement("g",{transform:"translate(".concat(t,",").concat(a,")")},r.a.createElement("text",{x:-30,y:0,dy:16,textAnchor:"end",fill:"#666"},0===n.value?"":n.value))}}]),t}(n.PureComponent),_=a(88),W=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"renderColorfulLegendText",value:function(e,t){var a=t.color;return r.a.createElement("span",{style:{color:a}},e)}},{key:"requiredData",value:function(){var e=this.props.timeSlot-1,t=this.props.timeZone,a=this.props.weatherData.filter((function(t,a){return a===e?(e+=8,t):null}));return a.map((function(e,a){var n={};return n.Date=_(e.dt_txt+" GMT").tz(t).format("DD MMM, YY"),n.Temperature=e.main.temp,n.Humidity=e.main.humidity,n.Cloudiness=e.clouds.all,O=e.dt_txt,n}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%",height:300}},r.a.createElement(I.f,null,r.a.createElement(I.c,{width:600,height:400,data:this.requiredData(),margin:{top:20,right:20,bottom:20,left:20}},r.a.createElement(I.b,{stroke:"#d3d3d3"}),r.a.createElement(I.i,{dataKey:"Date"}),r.a.createElement(I.j,{tick:r.a.createElement(Y,null)}),r.a.createElement(I.h,null),r.a.createElement(I.d,{formatter:this.renderColorfulLegendText}),r.a.createElement(I.a,{dataKey:"Temperature",barSize:30,fill:"#413ea0"}),r.a.createElement(I.e,{type:"monotone",dataKey:"Humidity",stroke:"#ff7300"}),r.a.createElement(I.g,{dataKey:"Cloudiness",fill:"red"}))),r.a.createElement("h4",{style:{textAlign:"center"}},"@",r.a.createElement(N.a,{format:"h:mm A",tz:this.props.timeZone},O+" GMT"),"\xa0Local Time"))}}]),t}(n.PureComponent),G=a(111),H=a(88),P={control:function(e,t){return Object(y.a)({},e,{borderColor:(t.isFocused,"#343940"),boxShadow:(t.isFocused,null),"&:hover":{borderColor:(t.isFocused,"#343940")}})},menu:function(e){return Object(y.a)({},e,{zIndex:9999})}},K="Loading ...",U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={timeSlot:e.defaultTimeSlot,reflectTimeSlotChange:e.reflectTimeSlotChange},a.reflectChange=a.reflectChange.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"reflectChange",value:function(e){this.setState({timeSlot:e}),this.state.reflectTimeSlotChange(e)}},{key:"getOptions",value:function(){var e=this.props.timeZone;return this.props.weatherData.filter((function(e,t){return t<8?e:null})).map((function(t,a){var n={};return n.value=a+1,n.label="Every "+H(t.dt_txt+" GMT").tz(e).format("h:mm A")+" starting "+H(t.dt_txt+" GMT").tz(e).format("MMM DD, YYYY")+" Local Time",0===a&&(K=n.label),n}))}},{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("label",{style:{marginTop:20}}," ","Select a time slot"," ",r.a.createElement("small",null,r.a.createElement("i",null,r.a.createElement("b",null," (Choose from any of the eight 3 hr time periods)")))),r.a.createElement(G.a,{styles:P,style:{zIndex:9999},options:this.getOptions(),placeholder:K,onChange:this.reflectChange,closeMenuOnSelect:!0,theme:function(e){return Object(y.a)({},e,{colors:Object(y.a)({},e.colors,{primary25:"#413EA0",primary:"#413EA0",neutral0:"#222",primary50:"#222",neutral80:"white",neutral90:"white",neutral70:"white"})})}}))}}]),t}(r.a.Component),B=a(493),J=a(492),R=a(485),V=a(494),q=(a(458),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=[this.props.lat,this.props.lng];return r.a.createElement(B.a,{center:e,zoom:this.props.zoom},r.a.createElement(J.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(R.a,{position:e},r.a.createElement(V.a,null,this.props.popupMessage)))}}]),t}(r.a.Component)),Q=function(e){return r.a.createElement("div",null,r.a.createElement("h2",{style:{marginTop:"25px",textAlign:"center"}},e.title," ",r.a.createElement(E.a,{style:{backgroundColor:"#413EA0"}}," ",e.badgeTitle)))},X=a(489),$=a(490),ee=a(78),te=function(e){return r.a.createElement(X.a,{fixed:"bottom",collapseOnSelect:!0,expand:"lg",style:{backgroundColor:"#413EA0"},variant:"dark"},r.a.createElement(X.a.Brand,{href:"https://openweathermap.org/"},"@OWM Powered"),r.a.createElement(X.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(X.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement($.a,{className:"mr-auto"},r.a.createElement($.a.Link,{href:"https://nirbhay.me"},r.a.createElement("b",null,"Made with ",r.a.createElement(ee.c,null)," in Rochester, NY"))),r.a.createElement($.a,null,r.a.createElement($.a.Link,{href:"https://github.com/nirbhayph/weatherfox"},r.a.createElement(ee.b,null)," View Project on GitHub"),r.a.createElement($.a.Link,{href:"https://linkedin.com/in/nirbhaypherwani"},r.a.createElement(ee.d,null)),r.a.createElement($.a.Link,{eventKey:2,href:"https://nirbhay.me"},r.a.createElement(ee.a,null)),r.a.createElement($.a.Link,{eventKey:3,href:"https://github.com/nirbhayph"},r.a.createElement(ee.b,null)))))},ae=a(146),ne=a.n(ae),re=a(55),le=a.n(re),ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={weatherData:[],cityName:"",timeZone:"ETC/UTC",timeSlot:1,showData:!1,lat:"",lng:"",errorDisplay:!1},S=Object(m.a)(a),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"setLocalTimeZone",value:function(e,t){ne.a.get("https://api.timezonedb.com/v2.1/get-time-zone?key=HIIZEJW9VZSN&format=json&by=position&lat="+e+"&lng="+t).then((function(e){console.log(e);var t,a=e.data.gmtOffset;t=a<0?"Etc/GMT+"+le.a.utc(le.a.unix(Math.abs(a))).format("H"):"Etc/GMT-"+le.a.utc(le.a.unix(a)).format("H"),S.setState({timeZone:t})}),(function(e){S.setState({errorDisplay:!0})}))}},{key:"getWeatherForSelected",value:function(e){console.log(e),ne.a.get("https://api.openweathermap.org/data/2.5/forecast?appid=8d857ff354f64e3ac0b841e26812533c&units=imperial&id="+e.value).then((function(e){S.setState({weatherData:e.data.list,cityName:e.data.city.name,showData:!0,lat:e.data.city.coord.lat,lng:e.data.city.coord.lon}),S.setLocalTimeZone(e.data.city.coord.lat,e.data.city.coord.lon)}),(function(e){S.setState({errorDisplay:!0})}))}},{key:"reflectTimeSlotChange",value:function(e){S.setState({timeSlot:e.value})}}]),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){this.footer.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(Q,{title:"Weather",badgeTitle:"Fox"}),r.a.createElement("br",null),r.a.createElement(C,{getWeatherForSelected:this.getWeatherForSelected}),this.state.showData?r.a.createElement(U,{defaultTimeSlot:this.state.timeSlot,reflectTimeSlotChange:this.reflectTimeSlotChange,weatherData:this.state.weatherData,timeZone:this.state.timeZone,timeSlot:this.state.timeSlot}):null,r.a.createElement(d.a,null,r.a.createElement(f.a,{sm:6},r.a.createElement(d.a,{style:{position:"relative",marginTop:"200px"}},this.state.showData?r.a.createElement(Z,{timeSlot:this.state.timeSlot,weatherData:this.state.weatherData,cityName:this.state.cityName,timeZone:this.state.timeZone}):null)),r.a.createElement(f.a,{sm:6},r.a.createElement(d.a,{style:{position:"relative",marginTop:"60px"}},this.state.showData?r.a.createElement(q,{lat:this.state.lat,lng:this.state.lng,popupMessage:this.state.cityName,zoom:13}):null),r.a.createElement(d.a,{style:{position:"relative",marginTop:"5px"}},this.state.showData?r.a.createElement(W,{timeSlot:this.state.timeSlot,timeZone:this.state.timeZone,weatherData:this.state.weatherData}):null))),this.state.errorDisplay?r.a.createElement("div",null,r.a.createElement("h3",{style:{textAlign:"center"}},r.a.createElement(E.a,{variant:"warning",style:{padding:"20px"}}," ","Unable to fetch data. Please try again later!"," "))):null,r.a.createElement("div",{ref:function(t){return e.footer=t},style:{position:"relative",marginTop:"100px"}}),r.a.createElement(te,null)))}}]),t}(r.a.Component);i.a.render(r.a.createElement(ie,null),document.getElementById("root"))}},[[256,1,2]]]);
//# sourceMappingURL=main.092f63cb.chunk.js.map