(this.webpackJsonphowistheweather=this.webpackJsonphowistheweather||[]).push([[0],{261:function(e,t,a){e.exports=a(487)},266:function(e,t,a){},267:function(e,t,a){},282:function(e,t,a){},463:function(e,t,a){},487:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),i=a.n(l),o=a(234),c=a.n(o),s=(a(266),a(13)),u=a(14),m=a(15),h=a(1),p=a(12),f=a(16),d=(a(267),a(268),a(496)),E=a(491),y=a(497),b=a(495),g=a(3),v=a(236),O=a(76),w=a.n(O),j=a(215);if(null===localStorage.getItem("citiesData")){var S=[];fetch("city-data/city_filtered_list.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){for(var t=0;t<e.length;t++)S.push({value:e[t].id,label:e[t].name+" in "+e[t].country});localStorage.setItem("citiesData",JSON.stringify(S))}))}var C=function(){var e=Object(j.a)(w.a.mark((function e(t,a){var n,r,l,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("citiesData")),t?(l=t.toLowerCase(),r=n.filter((function(e){return e.label.toLowerCase().includes(l)}))):r=n,i=r.length>a.length+10,o=r.slice(a.length,a.length+10),e.abrupt("return",{options:o,hasMore:i});case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T,k={control:function(e,t){return D({},e,{borderColor:(t.isFocused,"#343940"),boxShadow:(t.isFocused,null),"&:hover":{borderColor:(t.isFocused,"#343940")}})}},M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={value:[],getWeatherForSelected:e.getWeatherForSelected},a.reflectChange=a.reflectChange.bind(Object(h.a)(a)),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"reflectChange",value:function(e){this.setState({value:e}),this.state.getWeatherForSelected(e)}},{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("label",{style:{marginTop:20}}," ","Select a city"," ",r.a.createElement("small",null,r.a.createElement("i",null,r.a.createElement("b",null," (Choose from cities in France, United States or Russia)")))),r.a.createElement(v.a,{value:this.state.value,loadOptions:C,closeMenuOnSelect:!0,onChange:this.reflectChange,styles:k,theme:function(e){return D({},e,{colors:D({},e.colors,{primary25:"#413EA0",primary:"#413EA0",neutral0:"#222",primary50:"#222",neutral80:"white",neutral90:"white",neutral70:"white"})})}}))}}]),t}(r.a.Component),P=a(500),N=a(492),A=a(493),F=a(85),L=a.n(F),Z=(a(88),a(216)),z=a.n(Z),Y=a(217),_=a.n(Y),I=(a(282),function(e){var t=e.timeSlot-1,a=e.weatherData.filter((function(e,a){return a===t?(t+=8,e):null})),n=r.a.createRef();return r.a.createElement("div",null,r.a.createElement(z.a,{autoplay:!0,autoplay_speed:9e3,alignment:"horizontal",spread:"wide",style:{position:"relative",zIndex:"-1"},ref:n},a.map((function(t,a){return r.a.createElement(P.a,{text:"white",style:{width:"18rem",backgroundColor:"#222"},key:a},r.a.createElement("h2",{style:{textAlign:"center",padding:"20px"}},r.a.createElement(_.a,{name:"owm",iconId:t.weather[0].id+""}),"\xa0"," ",t.weather[0].description.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")),r.a.createElement(P.a.Header,{style:{backgroundColor:"#413EA0"}},r.a.createElement("i",{className:"wi wi-thermometer"})," \xa0 \xa0"," ",t.main.temp_min," \xb0F to ",t.main.temp_max," \xb0F"),r.a.createElement(P.a.Body,null,r.a.createElement(P.a.Text,null,r.a.createElement("small",null,r.a.createElement(L.a,{format:"DD MMM, YY @ h:mm A",tz:e.timeZone},t.dt_txt+" GMT"),"\xa0 (",e.cityName,")")),r.a.createElement(P.a.Text,null,r.a.createElement("small",null,r.a.createElement(L.a,{format:"DD MMM, YY @ h:mm A"},t.dt_txt),"\xa0 (UTC time)")),r.a.createElement("div",null,r.a.createElement("hr",null)),r.a.createElement(P.a.Text,null,r.a.createElement("i",{className:"wi wi-barometer"}),r.a.createElement("i",null," \xa0 \xa0Pressure")," \u2192 ",t.main.pressure," hPa"),r.a.createElement(P.a.Text,null,r.a.createElement("i",{className:"wi wi-humidity"}),r.a.createElement("i",null,"\xa0 \xa0 Humidity")," \u2192 ",t.main.humidity,"%"),r.a.createElement("div",null,r.a.createElement("hr",null)),r.a.createElement(P.a.Text,null,r.a.createElement("i",{className:"wi wi-windy"}),r.a.createElement("i",null," \xa0 \xa0 Wind Speed")," \u2192 ",t.wind.speed," mph"),r.a.createElement(P.a.Text,null,r.a.createElement("i",{className:"wi wi-cloud-up"}),r.a.createElement("i",null," \xa0 \xa0 Cloudiness")," \u2192 ",t.clouds.all,"%")))}))),r.a.createElement(E.a,{style:{marginTop:"150px",marginLeft:"40px"}},r.a.createElement(N.a,{"aria-label":"group"},r.a.createElement(A.a,{className:"controlButtons",onClick:function(e){return n.current.prev()}},"Previous"),r.a.createElement(A.a,{className:"controlButtons",onClick:function(e){return n.current.next()}},"Next"))))}),W=a(40),G=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.payload;return r.a.createElement("g",{transform:"translate(".concat(t,",").concat(a,")")},r.a.createElement("text",{x:-30,y:0,dy:16,textAnchor:"end",fill:"#666"},0===n.value?"":n.value))}}]),t}(n.PureComponent),H=a(88),K=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"renderColorfulLegendText",value:function(e,t){var a=t.color;return r.a.createElement("span",{style:{color:a}},e)}},{key:"requiredData",value:function(){var e=this.props.timeSlot-1,t=this.props.timeZone,a=this.props.weatherData.filter((function(t,a){return a===e?(e+=8,t):null}));return a.map((function(e,a){var n={};return n.Date=H(e.dt_txt+" GMT").tz(t).format("DD MMM, YY"),n.Temperature=e.main.temp,n.Humidity=e.main.humidity,n.Cloudiness=e.clouds.all,T=e.dt_txt,n}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%",height:300}},r.a.createElement(W.f,null,r.a.createElement(W.c,{width:600,height:400,data:this.requiredData(),margin:{top:20,right:20,bottom:20,left:20}},r.a.createElement(W.b,{stroke:"#d3d3d3"}),r.a.createElement(W.i,{dataKey:"Date"}),r.a.createElement(W.j,{tick:r.a.createElement(G,null)}),r.a.createElement(W.h,null),r.a.createElement(W.d,{formatter:this.renderColorfulLegendText}),r.a.createElement(W.a,{dataKey:"Temperature",barSize:30,fill:"#413ea0"}),r.a.createElement(W.e,{type:"monotone",dataKey:"Humidity",stroke:"#ff7300"}),r.a.createElement(W.g,{dataKey:"Cloudiness",fill:"red"}))),r.a.createElement("h4",{style:{textAlign:"center"}},"@",r.a.createElement(L.a,{format:"h:mm A",tz:this.props.timeZone},T+" GMT")," ","Local Time"))}}]),t}(n.PureComponent),U=a(112);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var R,V=a(88),q={control:function(e,t){return J({},e,{borderColor:(t.isFocused,"#343940"),boxShadow:(t.isFocused,null),"&:hover":{borderColor:(t.isFocused,"#343940")}})}},Q="Loading ...",X=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={timeSlot:e.defaultTimeSlot,reflectTimeSlotChange:e.reflectTimeSlotChange},a.reflectChange=a.reflectChange.bind(Object(h.a)(a)),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"reflectChange",value:function(e){this.setState({timeSlot:e}),this.state.reflectTimeSlotChange(e)}},{key:"getOptions",value:function(){var e=this.props.timeZone;return this.props.weatherData.filter((function(e,t){return t<8?e:null})).map((function(t,a){var n={};return n.value=a+1,n.label="Every "+V(t.dt_txt+" GMT").tz(e).format("h:mm A")+" starting "+V(t.dt_txt+" GMT").tz(e).format("MMM DD, YYYY")+" Local Time",0===a&&(Q=n.label),n}))}},{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("label",{style:{marginTop:20}}," ","Select a time slot"," ",r.a.createElement("small",null,r.a.createElement("i",null,r.a.createElement("b",null," (Choose from any of the eight 3 hr time periods)")))),r.a.createElement(U.a,{styles:q,style:{zIndex:9999},options:this.getOptions(),placeholder:Q,onChange:this.reflectChange,closeMenuOnSelect:!0,theme:function(e){return J({},e,{colors:J({},e.colors,{primary25:"#413EA0",primary:"#413EA0",neutral0:"#222",primary50:"#222",neutral80:"white",neutral90:"white",neutral70:"white"})})}}))}}]),t}(r.a.Component),$=a(501),ee=a(502),te=a(494),ae=a(503),ne=(a(463),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=[this.props.lat,this.props.lng];return r.a.createElement($.a,{center:e,zoom:this.props.zoom},r.a.createElement(ee.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(te.a,{position:e},r.a.createElement(ae.a,null,this.props.popupMessage)))}}]),t}(r.a.Component)),re=function(e){return r.a.createElement("div",null,r.a.createElement("h2",{style:{marginTop:"25px",textAlign:"center"}},e.title," ",r.a.createElement(b.a,{style:{backgroundColor:"#413EA0"}}," ",e.badgeTitle)))},le=a(498),ie=a(499),oe=a(79),ce=function(e){return r.a.createElement(le.a,{fixed:"bottom",collapseOnSelect:!0,expand:"lg",style:{backgroundColor:"#413EA0"},variant:"dark"},r.a.createElement(le.a.Brand,{href:"https://openweathermap.org/"},"@OWM Powered"),r.a.createElement(le.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(le.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(ie.a,{className:"mr-auto"},r.a.createElement(ie.a.Link,{href:"https://nirbhay.me"},r.a.createElement("b",null,"Made with ",r.a.createElement(oe.c,null)," in Rochester, NY"))),r.a.createElement(ie.a,null,r.a.createElement(ie.a.Link,{href:"https://github.com/nirbhayph/weatherfox"},r.a.createElement(oe.b,null)," View Project on GitHub"),r.a.createElement(ie.a.Link,{href:"https://linkedin.com/in/nirbhaypherwani"},r.a.createElement(oe.d,null)),r.a.createElement(ie.a.Link,{eventKey:2,href:"https://nirbhay.me"},r.a.createElement(oe.a,null)),r.a.createElement(ie.a.Link,{eventKey:3,href:"https://github.com/nirbhayph"},r.a.createElement(oe.b,null)))))},se=a(148),ue=a.n(se),me=a(54),he=a.n(me),pe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={weatherData:[],cityName:"",timeZone:"ETC/UTC",timeSlot:1,showData:!1,lat:"",lng:"",errorDisplay:!1},R=Object(h.a)(a),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"setLocalTimeZone",value:function(e,t){ue.a.get("https://api.timezonedb.com/v2.1/get-time-zone?key=HIIZEJW9VZSN&format=json&by=position&lat="+e+"&lng="+t).then((function(e){console.log(e);var t,a=e.data.gmtOffset;t=a<0?"Etc/GMT+"+he.a.utc(he.a.unix(Math.abs(a))).format("H"):"Etc/GMT-"+he.a.utc(he.a.unix(a)).format("H"),R.setState({timeZone:t})}),(function(e){R.setState({errorDisplay:!0})}))}},{key:"getWeatherForSelected",value:function(e){console.log(e),ue.a.get("https://api.openweathermap.org/data/2.5/forecast?appid=8d857ff354f64e3ac0b841e26812533c&units=imperial&id="+e.value).then((function(e){R.setState({weatherData:e.data.list,cityName:e.data.city.name,showData:!0,lat:e.data.city.coord.lat,lng:e.data.city.coord.lon}),R.setLocalTimeZone(e.data.city.coord.lat,e.data.city.coord.lon)}),(function(e){R.setState({errorDisplay:!0})}))}},{key:"reflectTimeSlotChange",value:function(e){R.setState({timeSlot:e.value})}}]),Object(p.a)(t,[{key:"componentDidUpdate",value:function(){this.footer.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(re,{title:"Weather",badgeTitle:"Fox"}),r.a.createElement("br",null),r.a.createElement(M,{getWeatherForSelected:this.getWeatherForSelected}),this.state.showData?r.a.createElement(X,{defaultTimeSlot:this.state.timeSlot,reflectTimeSlotChange:this.reflectTimeSlotChange,weatherData:this.state.weatherData,timeZone:this.state.timeZone,timeSlot:this.state.timeSlot}):null,r.a.createElement(E.a,null,r.a.createElement(y.a,{sm:6},r.a.createElement(E.a,{style:{position:"relative",marginTop:"200px"}},this.state.showData?r.a.createElement(I,{timeSlot:this.state.timeSlot,weatherData:this.state.weatherData,cityName:this.state.cityName,timeZone:this.state.timeZone}):null)),r.a.createElement(y.a,{sm:6},r.a.createElement(E.a,{style:{position:"relative",marginTop:"60px"}},this.state.showData?r.a.createElement(K,{timeSlot:this.state.timeSlot,timeZone:this.state.timeZone,weatherData:this.state.weatherData}):null),r.a.createElement(E.a,null,this.state.showData?r.a.createElement(ne,{lat:this.state.lat,lng:this.state.lng,popupMessage:this.state.cityName,zoom:13}):null))),this.state.errorDisplay?r.a.createElement("div",null,r.a.createElement("h3",{style:{textAlign:"center"}},r.a.createElement(b.a,{variant:"warning",style:{padding:"20px"}}," ","Unable to fetch data. Please try again later!"," "))):null,r.a.createElement("div",{ref:function(t){return e.footer=t},style:{position:"relative",marginTop:"100px"}}),r.a.createElement(ce,null)))}}]),t}(r.a.Component);i.a.render(r.a.createElement(c.a,{basename:""},r.a.createElement(pe,null)),document.getElementById("root"))}},[[261,1,2]]]);
//# sourceMappingURL=main.066f4bd2.chunk.js.map