{"version":3,"sources":["components/cities-search-select/loadOptions.js","components/cities-search-select/index.js","components/weather-data-plot/index.js","components/weather-forecast/index.js","components/time-slot-selector/index.js","App.js","components/leaflet-map/index.js","components/header/index.js","components/footer/index.js","utilities/constants/index.js","index.js"],"names":["localStorage","getItem","options","fetch","headers","Accept","then","r","json","iter","length","push","value","label","setItem","JSON","stringify","loadOptions","search","prevOptions","a","parse","searchLower","toLowerCase","filteredOptions","filter","includes","hasMore","slicedOptions","slice","time","styles","control","base","state","borderColor","isFocused","boxShadow","SearchSelect","props","getWeatherForSelected","reflectChange","bind","this","setState","style","marginTop","menuPlacement","closeMenuOnSelect","onChange","theme","colors","primary25","primary","neutral0","primary50","neutral80","neutral90","neutral70","React","Component","WeatherForecast","counter","timeSlot","filteredWeatherData","weatherData","item","index","cardCarousel","createRef","autoplay","autoplay_speed","alignment","spread","position","ref","map","Card","text","width","backgroundColor","key","textAlign","padding","name","iconId","weather","id","description","split","s","charAt","toUpperCase","substring","join","Header","className","main","temp_min","temp_max","Body","Text","format","tz","timeZone","dt_txt","cityName","pressure","humidity","wind","speed","clouds","all","Row","marginLeft","ButtonGroup","aria-label","Button","onClick","prevIt","current","prev","nextIt","next","CustomizedAxisTick","x","y","payload","transform","dy","textAnchor","fill","PureComponent","moment","require","WeatherDataPlot","entry","color","data","temp","height","requiredData","margin","top","right","bottom","left","stroke","dataKey","tick","formatter","renderColorfulLegendText","barSize","type","self","defaultValue","TimeSlotSelect","defaultTimeSlot","reflectTimeSlotChange","zIndex","getOptions","placeholder","LeafletMap","lat","lng","Map","center","zoom","TileLayer","attribution","url","Marker","Popup","popupMessage","title","Badge","badgeTitle","Footer","Navbar","fixed","collapseOnSelect","expand","variant","Brand","href","Toggle","aria-controls","Collapse","Nav","Link","eventKey","App","showData","errorDisplay","axios","get","TIMEZONE_DB_GET_ZONE","response","console","log","offset","gmtOffset","utc","unix","Math","abs","error","selected","list","city","coord","lon","setLocalTimeZone","option","footer","scrollIntoView","behavior","Container","Col","sm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.04012074.chunk.js","sourcesContent":["// uses localstorage to save the cities data\nif (localStorage.getItem(\"citiesData\") === null) {\n  let options = [];\n  fetch(\"city-data/city_filtered_list.json\", {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    }\n  })\n    .then(r => r.json())\n    .then(json => {\n      for (let iter = 0; iter < json.length; iter++) {\n        options.push({\n          value: json[iter][\"id\"],\n          label: json[iter][\"name\"] + \" in \" + json[iter][\"country\"]\n        });\n      }\n      localStorage.setItem(\"citiesData\", JSON.stringify(options));\n    });\n}\n\n// controls the options and search filter\nconst loadOptions = async (search, prevOptions) => {\n  let options = JSON.parse(localStorage.getItem(\"citiesData\"));\n  let filteredOptions;\n  if (!search) {\n    filteredOptions = options;\n  } else {\n    const searchLower = search.toLowerCase();\n\n    filteredOptions = options.filter(({ label }) =>\n      label.toLowerCase().includes(searchLower)\n    );\n  }\n\n  const hasMore = filteredOptions.length > prevOptions.length + 10;\n  const slicedOptions = filteredOptions.slice(\n    prevOptions.length,\n    prevOptions.length + 10\n  );\n\n  return {\n    options: slicedOptions,\n    hasMore\n  };\n};\n\nexport default loadOptions;\n","// this uses a searchable select component\n// to give the user an option to select cities\n// in the US, France and Russia\n// data for cities was obtained from the open weather website\n// data was filtered to create a smaller dataset\n// localStorage is used to keep the data in the browser once loaded\n// user can search and select a city using this select menu\n// custom styling for the select menu has been applied\n// see the public folder for finding more on the cities data used\n\nimport React from \"react\";\nimport AsyncPaginate from \"react-select-async-paginate\";\nimport loadOptions from \"./loadOptions\";\n\nconst styles = {\n  control: (base, state) => ({\n    ...base,\n    // Overwrittes the different states of border\n    borderColor: state.isFocused ? \"#343940\" : \"#343940\",\n    // Removes weird border around container\n    boxShadow: state.isFocused ? null : null,\n    \"&:hover\": {\n      // Overwrittes the different states of border\n      borderColor: state.isFocused ? \"#343940\" : \"#343940\"\n    }\n  })\n};\n\nclass SearchSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: [],\n      getWeatherForSelected: props.getWeatherForSelected\n    };\n    this.reflectChange = this.reflectChange.bind(this);\n  }\n\n  // calls parent component on selection\n  reflectChange(value) {\n    this.setState({\n      value: value\n    });\n    this.state.getWeatherForSelected(value);\n  }\n\n  render(props) {\n    return (\n      <div>\n        <label style={{ marginTop: 20 }}>\n          {\" \"}\n          Select a city{\" \"}\n          <small>\n            <i>\n              <b> (Choose from cities in France, United States or Russia)</b>\n            </i>\n          </small>\n        </label>\n        <AsyncPaginate\n          menuPlacement=\"top\"\n          value={this.state.value}\n          loadOptions={loadOptions}\n          closeMenuOnSelect={true}\n          onChange={this.reflectChange}\n          styles={styles}\n          theme={theme => ({\n            ...theme,\n            colors: {\n              ...theme.colors,\n              primary25: \"#413EA0\",\n              primary: \"#413EA0\",\n              neutral0: \"#222\",\n              primary50: \"#222\",\n              neutral80: \"white\",\n              neutral90: \"white\",\n              neutral70: \"white\"\n            }\n          })}\n        />\n      </div>\n    );\n  }\n}\n\nexport default SearchSelect;\n","// this component is used for displaying the plot for\n// temparature, cloudiness and humidity for the city selected\n\nimport React, { PureComponent } from \"react\";\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  Line,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  Scatter\n} from \"recharts\"; // components to build the recharts component\nimport Moment from \"react-moment\";\nimport \"moment-timezone\"; // for local time needs\n\n// custom axis marker used on the y axis\nclass CustomizedAxisTick extends PureComponent {\n  render() {\n    const { x, y, payload } = this.props;\n\n    return (\n      <g transform={`translate(${x},${y})`}>\n        <text x={-30} y={0} dy={16} textAnchor=\"end\" fill=\"#666\">\n          {payload.value === 0 ? \"\" : payload.value}\n        </text>\n      </g>\n    );\n  }\n}\n\nlet time, reqData;\n\nconst moment = require(\"moment-timezone\");\n\n// plot component for displaying the\n// three weather params mentioned above\nclass WeatherDataPlot extends PureComponent {\n  renderColorfulLegendText(value, entry) {\n    const { color } = entry;\n\n    return <span style={{ color }}>{value}</span>;\n  }\n\n  requiredData() {\n    // value for time slot selected by user\n    let counter = this.props.timeSlot - 1;\n\n    // timezone for local time in the city\n    let timeZone = this.props.timeZone;\n\n    // filtering weather data to get 5 data points according to time slot selected\n    let filteredWeatherData = this.props.weatherData.filter((item, index) => {\n      if (index === counter) {\n        counter += 8;\n        return item;\n      }\n      return null;\n    });\n\n    // creating data for the composed chart plot component\n    reqData = filteredWeatherData.map((item, index) => {\n      let data = {};\n      data[\"Date\"] = moment(item.dt_txt + \" GMT\")\n        .tz(timeZone)\n        .format(\"DD MMM, YY\");\n      data[\"Temperature\"] = item.main.temp;\n      data[\"Humidity\"] = item.main.humidity;\n      data[\"Cloudiness\"] = item.clouds.all;\n\n      time = item.dt_txt;\n      return data;\n    });\n\n    return reqData;\n  }\n\n  render() {\n    return (\n      <div style={{ width: \"100%\", height: 300 }}>\n        <ResponsiveContainer>\n          <ComposedChart\n            width={600}\n            height={400}\n            data={this.requiredData()}\n            margin={{\n              top: 20,\n              right: 20,\n              bottom: 20,\n              left: 20\n            }}\n          >\n            <CartesianGrid stroke=\"#d3d3d3\" />\n            <XAxis dataKey=\"Date\" />\n            <YAxis tick={<CustomizedAxisTick />} />\n            <Tooltip />\n            <Legend formatter={this.renderColorfulLegendText} />\n            <Bar dataKey=\"Temperature\" barSize={30} fill=\"#413ea0\" />\n            <Line type=\"monotone\" dataKey=\"Humidity\" stroke=\"#ff7300\" />\n            <Scatter dataKey=\"Cloudiness\" fill=\"red\" />\n          </ComposedChart>\n        </ResponsiveContainer>\n        <h4 style={{ textAlign: \"center\" }}>\n          @\n          <Moment format=\"h:mm A\" tz={this.props.timeZone}>\n            {time + \" GMT\"}\n          </Moment>{\" \"}\n          Local Time\n        </h4>\n      </div>\n    );\n  }\n}\n\nexport default WeatherDataPlot;\n","// this component is used to display the data recieved from the api\n// using bootstrap card components placed in a carousel\n\nimport React from \"react\";\nimport { Card, Button, Row, ButtonGroup } from \"react-bootstrap\";\nimport Moment from \"react-moment\";\nimport \"moment-timezone\"; // for showing local time in city selected\nimport ReactCardCarousel from \"react-card-carousel\"; // displaying cards (library)\nimport WeatherIcon from \"react-icons-weather\"; // for getting owm icon (library)\nimport \"./forecast.css\";\n\n\nconst WeatherForecast = props => {\n  // value for time slot selected by user\n  let counter = props.timeSlot - 1;\n\n  // filtering weather data to get 5 data points according to time slot selected\n  const filteredWeatherData = props.weatherData.filter((item, index) => {\n    if (index === counter) {\n      counter += 8;\n      return item;\n    }\n    return null;\n  });\n\n  // will act as reference to the CardCarousel component\n  let cardCarousel = React.createRef();\n\n  return (\n    <div>\n      {/* card carousel component for displaying weather cards */}\n      <ReactCardCarousel\n        autoplay={true}\n        autoplay_speed={9000}\n        alignment=\"horizontal\"\n        spread=\"wide\"\n        style={{ position: \"relative\"}}\n        ref={cardCarousel}\n      >\n        {/* maps data to create cards for parameters received from the api */}\n        {filteredWeatherData.map((item, index) => (\n          <Card\n            text=\"white\"\n            style={{ width: \"18rem\", backgroundColor: \"#222\" }}\n            key={index}\n          >\n            <h2 style={{ textAlign: \"center\", padding: \"20px\" }}>\n              <WeatherIcon name=\"owm\" iconId={item.weather[0].id + \"\"} />\n              &nbsp;{\" \"}\n              {item.weather[0].description\n                .toLowerCase()\n                .split(\" \")\n                .map(s => s.charAt(0).toUpperCase() + s.substring(1))\n                .join(\" \")}\n            </h2>\n            <Card.Header style={{ backgroundColor: \"#413EA0\" }}>\n              <i className=\"wi wi-thermometer\" /> &nbsp; &nbsp;{\" \"}\n              {item.main.temp_min} °F to {item.main.temp_max} °F\n            </Card.Header>\n            <Card.Body>\n              <Card.Text>\n                <small>\n                  <Moment format=\"DD MMM, YY @ h:mm A\" tz={props.timeZone}>\n                    {item.dt_txt + \" GMT\"}\n                  </Moment>\n                  &nbsp; ({props.cityName})\n                </small>\n              </Card.Text>\n              <Card.Text>\n                <small>\n                  <Moment format=\"DD MMM, YY @ h:mm A\">{item.dt_txt}</Moment>\n                  &nbsp; (UTC time)\n                </small>\n              </Card.Text>\n              <div>\n                <hr />\n              </div>\n              <Card.Text>\n                <i className=\"wi wi-barometer\" />\n                <i> &nbsp; &nbsp;Pressure</i> → {item.main.pressure} hPa\n              </Card.Text>\n              <Card.Text>\n                <i className=\"wi wi-humidity\" />\n                <i>&nbsp; &nbsp; Humidity</i> → {item.main.humidity}%\n              </Card.Text>\n              <div>\n                <hr />\n              </div>\n              <Card.Text>\n                <i className=\"wi wi-windy\" />\n                <i> &nbsp; &nbsp; Wind Speed</i> → {item.wind.speed} mph\n              </Card.Text>\n              <Card.Text>\n                <i className=\"wi wi-cloud-up\" />\n                <i> &nbsp; &nbsp; Cloudiness</i> → {item.clouds.all}%\n              </Card.Text>\n            </Card.Body>\n          </Card>\n        ))}\n      </ReactCardCarousel>\n      {/* card carousel ends here */}\n\n      {/* control buttons for the card carousel */}\n      <Row style={{ marginTop: \"150px\", marginLeft: \"40px\" }}>\n        <ButtonGroup aria-label=\"group\">\n          <Button\n            className=\"controlButtons\"\n            onClick={prevIt => cardCarousel.current.prev()}\n          >\n            Previous\n          </Button>\n          <Button\n            className=\"controlButtons\"\n            onClick={nextIt => cardCarousel.current.next()}\n          >\n            Next\n          </Button>\n        </ButtonGroup>\n      </Row>\n    </div>\n  );\n};\n\nexport default WeatherForecast;\n","// this component is used to create the\n// eight quarter time slot selector\n// here a custom style has been created for the select component\n// data has been filtered to create the 8 time slots that can be seen by the user\n\nimport React from \"react\";\nimport Select from \"react-select\";\n\nconst moment = require(\"moment-timezone\"); // for city's local time needs\n\nconst styles = {\n  control: (base, state) => ({\n    ...base,\n    // Overwrittes the different states of border\n    borderColor: state.isFocused ? \"#343940\" : \"#343940\",\n    // Removes weird border around container\n    boxShadow: state.isFocused ? null : null,\n    \"&:hover\": {\n      // Overwrittes the different states of border\n      borderColor: state.isFocused ? \"#343940\" : \"#343940\"\n    }\n  })\n};\n\nlet defaultValue = \"Loading ...\";\n\nclass TimeSlotSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      timeSlot: props.defaultTimeSlot,\n      reflectTimeSlotChange: props.reflectTimeSlotChange\n    };\n    this.reflectChange = this.reflectChange.bind(this);\n  }\n\n  reflectChange(value) {\n    this.setState({\n      timeSlot: value\n    });\n    this.state.reflectTimeSlotChange(value); // changes parent's state\n  }\n\n  getOptions() {\n    // timezone for city\n    let timeZone = this.props.timeZone;\n\n    // keeping just first eight data points\n    let filteredData = this.props.weatherData.filter((item, index) => {\n      if (index < 8) {\n        return item;\n      }\n      return null;\n    });\n\n    // mapping data to create options for the select menu\n    let selectableTimes = filteredData.map((item, index) => {\n      let data = {};\n      data[\"value\"] = index + 1;\n      data[\"label\"] =\n        \"Every \" +\n        moment(item.dt_txt + \" GMT\")\n          .tz(timeZone)\n          .format(\"h:mm A\") +\n        \" starting \" +\n        moment(item.dt_txt + \" GMT\")\n          .tz(timeZone)\n          .format(\"MMM DD, YYYY\") +\n        \" Local Time\";\n\n      if (index === 0) {\n        defaultValue = data[\"label\"];\n      }\n\n      return data;\n    });\n    return selectableTimes;\n  }\n\n  render(props) {\n    return (\n      <div>\n        <label style={{ marginTop: 20 }}>\n          {\" \"}\n          Select a time slot{\" \"}\n          <small>\n            <i>\n              <b> (Choose from any of the eight 3 hr time periods)</b>\n            </i>\n          </small>\n        </label>\n        <Select\n          menuPlacement=\"top\"\n          styles={styles}\n          style={{ zIndex: 9999 }}\n          options={this.getOptions()}\n          placeholder={defaultValue}\n          onChange={this.reflectChange}\n          closeMenuOnSelect={true}\n          theme={theme => ({\n            ...theme,\n            colors: {\n              ...theme.colors,\n              primary25: \"#413EA0\",\n              primary: \"#413EA0\",\n              neutral0: \"#222\",\n              primary50: \"#222\",\n              neutral80: \"white\",\n              neutral90: \"white\",\n              neutral70: \"white\"\n            }\n          })}\n        />\n      </div>\n    );\n  }\n}\n\nexport default TimeSlotSelect;\n","// this is the main app component\n// this contains 6 components you will find in the components folder\n// it calls the weather api and passes the respective data and state props\n// to these components.\n\nimport React from \"react\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Container, Row, Col, Badge } from \"react-bootstrap\";\nimport SearchSelect from \"./components/cities-search-select\";\nimport WeatherForecast from \"./components/weather-forecast\";\nimport WeatherDataPlot from \"./components/weather-data-plot\";\nimport TimeSlotSelect from \"./components/time-slot-selector\";\nimport LeafletMap from \"./components/leaflet-map\";\nimport Header from \"./components/header\";\nimport Footer from \"./components/footer\";\nimport { OPEN_WEATHER_FIVE_DAY_FORECAST } from \"./utilities/constants\";\nimport { TIMEZONE_DB_GET_ZONE } from \"./utilities/constants\";\nimport axios from \"axios\";\nimport moment from \"moment\";\n\nlet self;\n\nclass App extends React.Component {\n  state = {\n    weatherData: [], // weather data\n    cityName: \"\", // for name of the city once selected\n    timeZone: \"ETC/UTC\", // initial time zone\n    timeSlot: 1, // selector time slot\n    showData: false, // for rendering only required components\n    lat: \"\", // for latitude of city once selected\n    lng: \"\", // for longitude of city once selected\n    errorDisplay: false // in case of an error\n  };\n\n  // calls the timezonde db api to retrieve the offset and make the timezone\n  // according to moment package. (check moment.tz.names()) to learn more\n  // sets the timezone in the state variable for the city under consideration once created\n  setLocalTimeZone(lat, lng) {\n    axios.get(TIMEZONE_DB_GET_ZONE + \"&lat=\" + lat + \"&lng=\" + lng).then(\n      response => {\n        console.log(response);\n        let offset = response.data.gmtOffset;\n        let timeZone;\n        if (offset < 0) {\n          timeZone =\n            \"Etc/GMT+\" + moment.utc(moment.unix(Math.abs(offset))).format(\"H\");\n        } else {\n          timeZone = \"Etc/GMT-\" + moment.utc(moment.unix(offset)).format(\"H\");\n        }\n        self.setState({\n          timeZone: timeZone\n        });\n      },\n      error => {\n        self.setState({\n          errorDisplay: true\n        });\n      }\n    );\n  }\n\n  // gets the weather data and changes the state accordingly\n  getWeatherForSelected(selected) {\n    console.log(selected);\n    axios.get(OPEN_WEATHER_FIVE_DAY_FORECAST + selected.value).then(\n      response => {\n        self.setState({\n          weatherData: response.data.list,\n          cityName: response.data.city.name,\n          showData: true,\n          lat: response.data.city.coord.lat,\n          lng: response.data.city.coord.lon\n        });\n        self.setLocalTimeZone(\n          response.data.city.coord.lat,\n          response.data.city.coord.lon\n        );\n      },\n      error => {\n        self.setState({\n          errorDisplay: true\n        });\n      }\n    );\n  }\n\n  // if user selects another time slot\n  reflectTimeSlotChange(option) {\n    self.setState({\n      timeSlot: option.value\n    });\n  }\n\n  constructor(props) {\n    super(props);\n    self = this;\n  }\n\n  componentDidUpdate() {\n    // to scroll down once user selects something\n    this.footer.scrollIntoView({ behavior: \"smooth\" });\n  }\n\n  render() {\n    return (\n      <div>\n        <Container>\n          <Header title=\"Weather\" badgeTitle=\"Fox\" />\n          <br />\n          <SearchSelect getWeatherForSelected={this.getWeatherForSelected} />\n          {this.state.showData ? (\n            <TimeSlotSelect\n              defaultTimeSlot={this.state.timeSlot}\n              reflectTimeSlotChange={this.reflectTimeSlotChange}\n              weatherData={this.state.weatherData}\n              timeZone={this.state.timeZone}\n              timeSlot={this.state.timeSlot}\n            />\n          ) : null}\n          <Row>\n            <Col sm={6}>\n              <Row style={{ position: \"relative\", marginTop: \"200px\"}}>\n                {this.state.showData ? (\n                  <WeatherForecast\n                    timeSlot={this.state.timeSlot}\n                    weatherData={this.state.weatherData}\n                    cityName={this.state.cityName}\n                    timeZone={this.state.timeZone}\n                  />\n                ) : null}\n              </Row>\n            </Col>\n            <Col sm={6}>\n              <Row style={{ position: \"relative\", marginTop: \"60px\" }}>\n                {this.state.showData ? (\n                  <WeatherDataPlot\n                    timeSlot={this.state.timeSlot}\n                    timeZone={this.state.timeZone}\n                    weatherData={this.state.weatherData}\n                  />\n                ) : null}\n              </Row>\n              <Row>\n                {this.state.showData ? (\n                  <LeafletMap\n                    lat={this.state.lat}\n                    lng={this.state.lng}\n                    popupMessage={this.state.cityName}\n                    zoom={13}\n                  />\n                ) : null}\n              </Row>\n            </Col>\n          </Row>\n\n          {this.state.errorDisplay ? (\n            <div>\n            <h3 style={{ textAlign: \"center\" }}>\n              <Badge variant=\"warning\" style={{padding: '20px'}}>\n                  {\" \"}\n                  Unable to fetch data. Please try again later!{\" \"}\n              </Badge>\n              </h3>\n            </div>\n          ) : null}\n\n          <div\n            ref={ref => (this.footer = ref)}\n            style={{ position: \"relative\", marginTop: \"100px\" }}\n          />\n\n          <Footer />\n\n\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// this component uses the leaflet package\n// this is used to show the city's location on a map\n\nimport React from \"react\";\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport \"./map.css\";\n\nclass LeafletMap extends React.Component {\n  render() {\n    const position = [this.props.lat, this.props.lng];\n    return (\n      <Map center={position} zoom={this.props.zoom}>\n        <TileLayer\n          attribution=\"&amp;copy <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <Marker position={position}>\n          <Popup>{this.props.popupMessage}</Popup>\n        </Marker>\n      </Map>\n    );\n  }\n}\n\nexport default LeafletMap;\n","// header text to show title of the app\n\nimport React from \"react\";\nimport { Badge, h2 } from \"react-bootstrap\";\n\nconst Header = props => {\n  return (\n    <div>\n      <h2 style={{ marginTop: \"25px\", textAlign: \"center\" }}>\n        {props.title}{\" \"}\n        <Badge style={{ backgroundColor: \"#413EA0\" }}>\n          {\" \"}\n          {props.badgeTitle}\n        </Badge>\n      </h2>\n    </div>\n  );\n};\n\nexport default Header;\n","// Footer component (with mentions and acknowledgments)\n\nimport React from \"react\";\nimport {Navbar, Nav} from 'react-bootstrap';\nimport { FaLinkedinIn, FaGithub, FaArtstation, FaHeart } from 'react-icons/fa'\n\nconst Footer = props => {\n  return (\n    <Navbar fixed=\"bottom\" collapseOnSelect expand=\"lg\" style={{backgroundColor: \"#413EA0\"}} variant=\"dark\">\n      <Navbar.Brand href=\"https://openweathermap.org/\">@OWM Powered</Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n      <Navbar.Collapse id=\"responsive-navbar-nav\">\n        <Nav className=\"mr-auto\">\n          <Nav.Link href=\"https://nirbhay.me\"><b>Made with <FaHeart/> in Rochester, NY</b></Nav.Link>\n        </Nav>\n        <Nav>\n          <Nav.Link href=\"https://github.com/nirbhayph/weatherfox\"><FaGithub/> View Project on GitHub</Nav.Link>\n          <Nav.Link href=\"https://linkedin.com/in/nirbhaypherwani\"><FaLinkedinIn/></Nav.Link>\n          <Nav.Link eventKey={2} href=\"https://nirbhay.me\">\n            <FaArtstation/>\n          </Nav.Link>\n          <Nav.Link eventKey={3} href=\"https://github.com/nirbhayph\">\n            <FaGithub/>\n          </Nav.Link>\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default Footer;\n","// oper weather map cities data (this data is provided for reference) (a separate filtered chunk has been used in the app (See public folder))\nexport const CITIES_DATA = 'http://ganskop.com/proxy/https://people.rit.edu/np5318/howistheweather_data/city.list.json';\n\n// open weather map api key\nexport const OPEN_WEATHER_API_KEY = '8d857ff354f64e3ac0b841e26812533c';\n\n// timezonedb api key\nexport const TIMEZONE_DB_API_KEY = 'HIIZEJW9VZSN';\n\n// api end point for 5 day forecast\nexport const OPEN_WEATHER_FIVE_DAY_FORECAST = \"https://api.openweathermap.org/data/2.5/forecast?appid=\"+OPEN_WEATHER_API_KEY+\"&units=imperial&id=\";\n\n// api end point for timezone db\nexport const TIMEZONE_DB_GET_ZONE = \"https://api.timezonedb.com/v2.1/get-time-zone?key=\"+TIMEZONE_DB_API_KEY+\"&format=json&by=position\";\n\n// sample data from open weather (provided for reference)\nexport const SAMPLE_DATA = \"http://ganskop.com/proxy/https://people.rit.edu/np5318/howistheweather_data/sample_weather_data.json\";\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <App/>,\ndocument.getElementById('root'));\n"],"sourceRoot":""}